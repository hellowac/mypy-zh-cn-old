
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="hellowac-类型检查">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="cheat_sheet_py3/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.4">
    
    
      
        <title>开始 - mypy类型检查</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bd3936ea.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#开始" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
你当前浏览的版本已不是最新版本，
<a href="../..">
    <strong>点击这里</strong>
</a>查看最新版本的文档

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="mypy类型检查" class="md-header__button md-logo" aria-label="mypy类型检查" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            mypy类型检查
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              开始
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hellowac/mypy-zh-cn" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    hellowac/myppy-zh-cn
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  欢迎来到mypy文档!

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  第一步

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="builtin_types/" class="md-tabs__link">
          
  
    
  
  类型系统参考

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../mypy_conf/" class="md-tabs__link">
          
  
    
  
  配置和运行mypy

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../mypy_other/" class="md-tabs__link">
          
  
    
  
  其他杂项

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="mypy类型检查" class="md-nav__button md-logo" aria-label="mypy类型检查" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    mypy类型检查
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hellowac/mypy-zh-cn" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    hellowac/myppy-zh-cn
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    欢迎来到mypy文档!
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    第一步
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            第一步
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="cheat_sheet_py3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    类型提示备忘录
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="existing_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    将 mypy 与现有代码库结合使用
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    类型系统参考
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            类型系统参考
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="builtin_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    内置类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="type_inference_type_annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    类型推断和类型注解
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="kind_of_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    类型种类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="class_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    类的基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="annotation_issue_at_runtime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    运行时的注解问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="protocol_and_struct_subtyping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    协议及其子类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="dynamic_typing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    动态类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="type_narrowing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    类型收缩
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="duck_type_compatibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    鸭子类型兼容
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="stub_files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    存根文件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="generics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    泛型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="more_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    更多类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="literal_and_enum/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    字面量和枚举
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="typeddict/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    类型字典
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="final_names_methods_classes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    最终名称、方法和类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="metaclasses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    元类
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../mypy_conf/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    配置和运行mypy
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            配置和运行mypy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_conf/running_mypy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    运行mypy和管理导入
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_conf/command_line/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mypy命令行
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_conf/config_file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mypy配置文件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_conf/inline_config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    内联配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_conf/mypy_daemon/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mypy服务(守护进程)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_conf/installed_packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用安装包
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_conf/extending_mypy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    扩展和集成 mypy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_conf/stubgen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自动存根生成
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_conf/stubtest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自动存根测试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../mypy_other/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    其他杂项
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            其他杂项
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_other/common_issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常见问题及解决办法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_other/supported_python_features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    支持的 Python 特性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_other/error_codes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    错误码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_other/error_code_list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    默认启用的错误码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_other/error_code_list2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    可选检查的错误代码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_other/additional_features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    额外特性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mypy_other/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常见问题解答
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/python/mypy" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    项目地址
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://mypy-lang.org/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网页地址
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#安装和运行mypy" class="md-nav__link">
    安装和运行mypy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#动态-vs-静态-类型" class="md-nav__link">
    动态 vs 静态 类型
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#严格模式以及配置" class="md-nav__link">
    严格模式以及配置
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#更多复杂类型" class="md-nav__link">
    更多复杂类型
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#局部类型推断" class="md-nav__link">
    局部类型推断
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#来自库的类型" class="md-nav__link">
    来自库的类型
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#下一步" class="md-nav__link">
    下一步
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="开始">开始<a class="headerlink" href="#开始" title="Permanent link">&para;</a></h1>
<p>Getting started</p>
<p>转自: <a href="https://mypy.readthedocs.io/en/stable/getting_started.html">https://mypy.readthedocs.io/en/stable/getting_started.html</a></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">中文</label><label for="__tabbed_1_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>本章介绍了mypy的一些核心概念，包括函数注解、<a href="https://docs.python.org/3/library/typing.html#module-typing">typing</a> 模块、存根文件等。</p>
<p>如果你想要一个快速的介绍，请查看<a href="cheat_sheet_py3/">mypy速查表</a>。</p>
<p>如果你不熟悉静态和动态类型检查的概念，请确保仔细阅读本章，因为否则文档的其余部分可能不太容易理解。</p>
</div>
<div class="tabbed-block">
<p>This chapter introduces some core concepts of mypy, including function annotations, the <a href="https://docs.python.org/3/library/typing.html#module-typing">typing</a> module, stub files, and more.</p>
<p>If you’re looking for a quick intro, see the <a href="cheat_sheet_py3/">mypy cheatsheet</a>.</p>
<p>If you’re unfamiliar with the concepts of static and dynamic type checking, be sure to read this chapter carefully, as the rest of the documentation may not make much sense otherwise.</p>
</div>
</div>
</div>
<h2 id="安装和运行mypy">安装和运行mypy<a class="headerlink" href="#安装和运行mypy" title="Permanent link">&para;</a></h2>
<p><strong>Installing and running mypy</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">中文</label><label for="__tabbed_2_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Mypy 需要 Python 3.8 或更高版本才能运行。你可以使用 pip 安装 mypy：</p>
<div class="language-text highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ python3 -m pip install mypy
</code></pre></div>
<p>安装 mypy 后，使用 <code>mypy</code> 工具运行它：</p>
<div class="language-text highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ mypy program.py
</code></pre></div>
<p>这个命令会让 mypy 对你的 <code>program.py</code> 文件进行类型检查，并打印出它发现的任何错误。Mypy 会对你的代码进行<em>静态</em>类型检查：这意味着它会在不运行你的代码的情况下检查错误，就像一个 linter。</p>
<p>这也意味着，如果你愿意，你总是可以忽略 mypy 报告的错误。即使 mypy 报告错误，你也可以使用 Python 解释器来运行你的代码。</p>
<p>然而，如果你尝试直接在现有的 Python 代码上运行 mypy，它很可能报告很少或没有错误。这是一个特性！它使得逐步采用 mypy 变得容易。</p>
<p>为了从 mypy 获得有用的诊断信息，你必须在代码中添加类型注解。详见下面的部分。</p>
</div>
<div class="tabbed-block">
<p>Mypy requires Python 3.8 or later to run. You can install mypy using pip:</p>
<p><code>$ python3 -m pip install mypy</code></p>
<p>Once mypy is installed, run it by using the <code>mypy</code> tool:</p>
<p><code>$ mypy program.py</code></p>
<p>This command makes mypy type check your <code>program.py</code> file and print out any errors it finds. Mypy will type check your code <em>statically</em>: this means that it will check for errors without ever running your code, just like a linter.</p>
<p>This also means that you are always free to ignore the errors mypy reports, if you so wish. You can always use the Python interpreter to run your code, even if mypy reports errors.</p>
<p>However, if you try directly running mypy on your existing Python code, it will most likely report little to no errors. This is a feature! It makes it easy to adopt mypy incrementally.</p>
<p>In order to get useful diagnostics from mypy, you must add type annotations to your code. See the section below for details.</p>
</div>
</div>
</div>
<h2 id="动态-vs-静态-类型">动态 vs 静态 类型<a class="headerlink" href="#动态-vs-静态-类型" title="Permanent link">&para;</a></h2>
<p><strong>Dynamic vs static typing</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">中文</label><label for="__tabbed_3_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>没有类型注释的函数被 mypy 认为是<em>动态类型</em>的：</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greeting</span>(name):
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name
</code></pre></div>
<p>默认情况下，mypy <strong>不会</strong>对动态类型函数进行类型检查。这意味着，除了一些例外情况，mypy 不会报告常规未注释 Python 代码的任何错误。</p>
<p>即使你误用了函数，情况也是如此！</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greeting</span>(name):
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name

<span style="color: #3D7B7B; font-style: italic"># 当程序运行时，这些调用将失败，但 mypy 不报告错误</span>
<span style="color: #3D7B7B; font-style: italic"># 因为 &quot;greeting&quot; 没有类型注释。</span>
greeting(<span style="color: #666666">123</span>)
greeting(<span style="color: #BA2121">b&quot;Alice&quot;</span>)
</code></pre></div>
<p>我们可以通过添加类型注释（也称为类型提示）来让 mypy 检测这类错误。例如，你可以告诉 mypy <code>greeting</code> 函数既接受又返回一个字符串，如下所示：</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># &quot;name: str&quot; 注释表明 &quot;name&quot; 参数应该是一个字符串</span>
<span style="color: #3D7B7B; font-style: italic"># &quot;-&gt; str&quot; 注释表明 &quot;greeting&quot; 将返回一个字符串</span>
<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greeting</span>(name: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name
</code></pre></div>
<p>这个函数现在是静态类型的：mypy 将使用提供的类型提示来检测 greeting 函数的错误使用以及 greeting 函数内部变量的错误使用。例如：</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greeting</span>(name: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name

greeting(<span style="color: #666666">3</span>)         <span style="color: #3D7B7B; font-style: italic"># &quot;greeting&quot; 的参数 1 有不兼容的类型 &quot;int&quot;；预期 &quot;str&quot;</span>
greeting(<span style="color: #BA2121">b&#39;Alice&#39;</span>)  <span style="color: #3D7B7B; font-style: italic"># &quot;greeting&quot; 的参数 1 有不兼容的类型 &quot;bytes&quot;；预期 &quot;str&quot;</span>
greeting(<span style="color: #BA2121">&quot;World!&quot;</span>)  <span style="color: #3D7B7B; font-style: italic"># 无错误</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">bad_greeting</span>(name: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">*</span> name  <span style="color: #3D7B7B; font-style: italic"># &quot;str&quot; 和 &quot;str&quot; 对于 * 运算符不支持的操作数类型</span>
</code></pre></div>
<p>能够选择函数是动态类型还是静态类型非常有用。例如，如果你正在将现有的 Python 代码库迁移到使用静态类型，通常逐个添加类型注释比一次性全部添加要容易。同样，当你在原型设计一个新特性时，最初使用动态类型实现代码，代码更稳定后再添加类型注释可能更方便。</p>
<p>一旦你完成了迁移或原型设计，你可以使用 <a href="https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-disallow-untyped-defs">--disallow-untyped-defs</a> 标志让 mypy 在你不小心添加了一个动态函数时警告你。你还可以使用 <a href="https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-check-untyped-defs">--check-untyped-defs</a> 标志让 mypy 对动态类型函数进行一些有限的检查。有关配置 mypy 的更多信息，请参见 <a href="https://mypy.readthedocs.io/en/stable/command_line.html#command-line">The mypy command line</a>。</p>
</div>
<div class="tabbed-block">
<p>A function without type annotations is considered to be <em>dynamically typed</em> by mypy:</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greeting</span>(name):
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name
</code></pre></div>
<p>By default, mypy will <strong>not</strong> type check dynamically typed functions. This means that with a few exceptions, mypy will not report any errors with regular unannotated Python.</p>
<p>This is the case even if you misuse the function!</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greeting</span>(name):
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name

<span style="color: #3D7B7B; font-style: italic"># These calls will fail when the program runs, but mypy does not report an error</span>
<span style="color: #3D7B7B; font-style: italic"># because &quot;greeting&quot; does not have type annotations.</span>
greeting(<span style="color: #666666">123</span>)
greeting(<span style="color: #BA2121">b&quot;Alice&quot;</span>)
</code></pre></div>
<p>We can get mypy to detect these kinds of bugs by adding type annotations (also known as type hints). For example, you can tell mypy that <code>greeting</code> both accepts and returns a string like so:</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># The &quot;name: str&quot; annotation says that the &quot;name&quot; argument should be a string</span>
<span style="color: #3D7B7B; font-style: italic"># The &quot;-&gt; str&quot; annotation says that &quot;greeting&quot; will return a string</span>
<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greeting</span>(name: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name
</code></pre></div>
<p>This function is now statically typed: mypy will use the provided type hints to detect incorrect use of the greeting function and incorrect use of variables within the greeting function. For example:</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greeting</span>(name: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name

greeting(<span style="color: #666666">3</span>)         <span style="color: #3D7B7B; font-style: italic"># Argument 1 to &quot;greeting&quot; has incompatible type &quot;int&quot;; expected &quot;str&quot;</span>
greeting(<span style="color: #BA2121">b&#39;Alice&#39;</span>)  <span style="color: #3D7B7B; font-style: italic"># Argument 1 to &quot;greeting&quot; has incompatible type &quot;bytes&quot;; expected &quot;str&quot;</span>
greeting(<span style="color: #BA2121">&quot;World!&quot;</span>)  <span style="color: #3D7B7B; font-style: italic"># No error</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">bad_greeting</span>(name: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">*</span> name  <span style="color: #3D7B7B; font-style: italic"># Unsupported operand types for * (&quot;str&quot; and &quot;str&quot;)</span>
</code></pre></div>
<p>Being able to pick whether you want a function to be dynamically or statically typed can be very helpful. For example, if you are migrating an existing Python codebase to use static types, it’s usually easier to migrate by incrementally adding type hints to your code rather than adding them all at once. Similarly, when you are prototyping a new feature, it may be convenient to initially implement the code using dynamic typing and only add type hints later once the code is more stable.</p>
<p>Once you are finished migrating or prototyping your code, you can make mypy warn you if you add a dynamic function by mistake by using the <a href="https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-disallow-untyped-defs">--disallow-untyped-defs</a> flag. You can also get mypy to provide some limited checking of dynamically typed functions by using the <a href="https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-check-untyped-defs">--check-untyped-defs</a> flag. See <a href="https://mypy.readthedocs.io/en/stable/command_line.html#command-line">The mypy command line</a> for more information on configuring mypy.</p>
</div>
</div>
</div>
<h2 id="严格模式以及配置">严格模式以及配置<a class="headerlink" href="#严格模式以及配置" title="Permanent link">&para;</a></h2>
<p><strong>Strict mode and configuration</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">中文</label><label for="__tabbed_4_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Mypy 提供了一个严格模式，该模式启用了许多额外的检查，比如 <a href="https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-disallow-untyped-defs">--disallow-untyped-defs</a>。</p>
<p>如果你使用 <a href="https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-strict">--strict</a> 标志运行 mypy，你基本上不会再在运行时遇到任何类型相关的错误，除非你以某种方式明确规避了 mypy。</p>
<p>然而，如果你正试图为一个大型的、现有的代码库添加静态类型，这个标志可能会过于激进。有关如何处理这种情况的建议，请参见<a href="https://mypy.readthedocs.io/en/stable/existing_code.html#existing-code">在现有代码库中使用 mypy</a>。</p>
<p>Mypy 是非常可配置的，你可以从使用 <code>--strict</code> 开始，然后关闭个别检查。例如，如果你使用许多没有类型的第三方库，<code>--ignore-missing-imports</code> 可能会很有用。关于如何逐步采用 <code>--strict</code>，请参见<a href="https://mypy.readthedocs.io/en/stable/existing_code.html#getting-to-strict">引入更严格的选项</a>。</p>
<p>有关配置选项的完整参考，请参见 <a href="https://mypy.readthedocs.io/en/stable/command_line.html#command-line">mypy 命令行</a> 和 <a href="https://mypy.readthedocs.io/en/stable/config_file.html#config-file">mypy 配置文件</a>。</p>
</div>
<div class="tabbed-block">
<p>Mypy has a strict mode that enables a number of additional checks, like <a href="https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-disallow-untyped-defs">--disallow-untyped-defs</a>.</p>
<p>If you run mypy with the <a href="https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-strict">--strict</a> flag, you will basically never get a type related error at runtime without a corresponding mypy error, unless you explicitly circumvent mypy somehow.</p>
<p>However, this flag will probably be too aggressive if you are trying to add static types to a large, existing codebase. See <a href="https://mypy.readthedocs.io/en/stable/existing_code.html#existing-code">Using mypy with an existing codebase</a> for suggestions on how to handle that case.</p>
<p>Mypy is very configurable, so you can start with using <code>--strict</code> and toggle off individual checks. For instance, if you use many third party libraries that do not have types, <a href="https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-ignore-missing-imports">--ignore-missing-imports</a> may be useful. See <a href="https://mypy.readthedocs.io/en/stable/existing_code.html#getting-to-strict">Introduce stricter options</a> for how to build up to <code>--strict</code>.</p>
<p>See <a href="https://mypy.readthedocs.io/en/stable/command_line.html#command-line">The mypy command line</a> and <a href="https://mypy.readthedocs.io/en/stable/config_file.html#config-file">The mypy configuration file</a> for a complete reference on configuration options.</p>
</div>
</div>
</div>
<h2 id="更多复杂类型">更多复杂类型<a class="headerlink" href="#更多复杂类型" title="Permanent link">&para;</a></h2>
<p><strong>More complex types</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">中文</label><label for="__tabbed_5_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>到目前为止，我们已经添加了使用基本具体类型（如 <code>str</code> 和 <code>float</code>）的类型提示。如果我们想表达更复杂的类型，例如“一个字符串列表”或“一个整数的可迭代对象”怎么办？</p>
<p>例如，要表示某个函数可以接受一个字符串列表，可以使用 <code>list[str]</code> 类型（适用于 Python 3.9 及更高版本）：</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greet_all</span>(names: <span style="color: #008000">list</span>[<span style="color: #008000">str</span>]) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    <span style="color: #008000; font-weight: bold">for</span> name <span style="color: #AA22FF; font-weight: bold">in</span> names:
        <span style="color: #008000">print</span>(<span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name)

names <span style="color: #666666">=</span> [<span style="color: #BA2121">&quot;Alice&quot;</span>, <span style="color: #BA2121">&quot;Bob&quot;</span>, <span style="color: #BA2121">&quot;Charlie&quot;</span>]
ages <span style="color: #666666">=</span> [<span style="color: #666666">10</span>, <span style="color: #666666">20</span>, <span style="color: #666666">30</span>]

greet_all(names)   <span style="color: #3D7B7B; font-style: italic"># 可以！</span>
greet_all(ages)    <span style="color: #3D7B7B; font-style: italic"># 由于类型不兼容，出现错误</span>
</code></pre></div>
<p><a href="https://docs.python.org/3/library/stdtypes.html#list">list</a> 类型是一个称为泛型类型的示例：它可以接受一个或多个类型参数。在这种情况下，我们通过写 <code>list[str]</code> 来对 <a href="https://docs.python.org/3/library/stdtypes.html#list">list</a> 进行参数化。这使得 mypy 知道 <code>greet_all</code> 仅接受包含字符串的列表，而不是包含整数或其他类型的列表。</p>
<p>在上面的例子中，类型签名可能有点过于严格。毕竟，这个函数并不一定非得接受 <em>具体的</em> 列表——如果你传递一个元组、集合或任何其他自定义的可迭代对象，它也能正常运行。</p>
<p>你可以使用 <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable">collections.abc.Iterable</a> 来表达这一想法：</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">collections.abc</span> <span style="color: #008000; font-weight: bold">import</span> Iterable  <span style="color: #3D7B7B; font-style: italic"># 或者 &quot;from typing import Iterable&quot;</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greet_all</span>(names: Iterable[<span style="color: #008000">str</span>]) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    <span style="color: #008000; font-weight: bold">for</span> name <span style="color: #AA22FF; font-weight: bold">in</span> names:
        <span style="color: #008000">print</span>(<span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name)
</code></pre></div>
<p>这种行为实际上是 PEP 484 类型系统的一个基本方面：当我们用类型 <code>T</code> 注解某个变量时，我们实际上是在告诉 mypy，这个变量可以被赋值为 <code>T</code> 的实例，或者 <code>T</code> 的 <em>子类型</em> 的实例。也就是说，<code>list[str]</code> 是 <code>Iterable[str]</code> 的子类型。</p>
<p>这也适用于继承，因此如果你有一个 <code>Child</code> 类继承自 <code>Parent</code>，那么 <code>Child</code> 类型的值可以赋给 <code>Parent</code> 类型的变量。例如，一个 <code>RuntimeError</code> 实例可以传递给注解为接受 <code>Exception</code> 的函数。</p>
<p>另一个例子，假设你想编写一个函数，该函数可以接受 <em>整数或字符串</em>，但不接受其他类型。你可以使用 <a href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a> 类型来表达这种情况。例如，<code>int</code> 是 <code>Union[int, str]</code> 的子类型：</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">typing</span> <span style="color: #008000; font-weight: bold">import</span> Union

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">normalize_id</span>(user_id: Union[<span style="color: #008000">int</span>, <span style="color: #008000">str</span>]) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">isinstance</span>(user_id, <span style="color: #008000">int</span>):
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">f&#39;user-</span><span style="color: #A45A77; font-weight: bold">{</span><span style="color: #666666">100_000</span><span style="color: #bbbbbb"> </span><span style="color: #666666">+</span><span style="color: #bbbbbb"> </span>user_id<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&#39;</span>
    <span style="color: #008000; font-weight: bold">else</span>:
        <span style="color: #008000; font-weight: bold">return</span> user_id
</code></pre></div>
<p><a href="https://docs.python.org/3/library/typing.html#module-typing">typing</a> 模块包含许多其他有用的类型。</p>
<p>要快速了解，可以查看 <a href="cheat_sheet_py3/">mypy cheatsheet</a>。</p>
<p>要获得详细的概述（包括如何创建自己的泛型类型或类型别名），可以查看 <strong>类型系统参考</strong>。</p>
<div class="admonition note">
<p class="admonition-title">注意</p>
<p>添加类型时，约定是使用 <code>from typing import Union</code> 形式导入类型（而不是仅仅 <code>import typing</code> 或 <code>import typing as t</code> 或 <code>from typing import *</code>）。</p>
<p>为了简洁，我们在代码示例中经常省略了从 <a href="https://docs.python.org/3/library/typing.html#module-typing">typing</a> 或 <a href="https://docs.python.org/3/library/collections.abc.html#module-collections.abc">collections.abc</a> 进行的导入，但如果你在没有首先导入的情况下使用像 <a href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a> 这样的类型，mypy 会报错。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注意</p>
<p>在一些例子中，我们使用了大写的类型名称，如 <code>List</code>，而有时我们使用普通的 <code>list</code>。它们是等价的，但如果你使用的是 Python 3.8 或更早的版本，则需要使用前者。</p>
</div>
</div>
<div class="tabbed-block">
<p>So far, we’ve added type hints that use only basic concrete types like <code>str</code> and <code>float</code>. What if we want to express more complex types, such as “a list of strings” or “an iterable of ints”?</p>
<p>For example, to indicate that some function can accept a list of strings, use the <code>list[str]</code> type (Python 3.9 and later):</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greet_all</span>(names: <span style="color: #008000">list</span>[<span style="color: #008000">str</span>]) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    <span style="color: #008000; font-weight: bold">for</span> name <span style="color: #AA22FF; font-weight: bold">in</span> names:
        <span style="color: #008000">print</span>(<span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name)

names <span style="color: #666666">=</span> [<span style="color: #BA2121">&quot;Alice&quot;</span>, <span style="color: #BA2121">&quot;Bob&quot;</span>, <span style="color: #BA2121">&quot;Charlie&quot;</span>]
ages <span style="color: #666666">=</span> [<span style="color: #666666">10</span>, <span style="color: #666666">20</span>, <span style="color: #666666">30</span>]

greet_all(names)   <span style="color: #3D7B7B; font-style: italic"># Ok!</span>
greet_all(ages)    <span style="color: #3D7B7B; font-style: italic"># Error due to incompatible types</span>
</code></pre></div>
<p>The <a href="https://docs.python.org/3/library/stdtypes.html#list">list</a> type is an example of something called a generic type: it can accept one or more type parameters. In this case, we parameterized <a href="https://docs.python.org/3/library/stdtypes.html#list">list</a> by writing <code>list[str]</code>. This lets mypy know that <code>greet_all</code> accepts specifically lists containing strings, and not lists containing ints or any other type.</p>
<p>In the above examples, the type signature is perhaps a little too rigid. After all, there’s no reason why this function must accept <em>specifically</em> a list – it would run just fine if you were to pass in a tuple, a set, or any other custom iterable.</p>
<p>You can express this idea using <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable">collections.abc.Iterable</a>:</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">collections.abc</span> <span style="color: #008000; font-weight: bold">import</span> Iterable  <span style="color: #3D7B7B; font-style: italic"># or &quot;from typing import Iterable&quot;</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">greet_all</span>(names: Iterable[<span style="color: #008000">str</span>]) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    <span style="color: #008000; font-weight: bold">for</span> name <span style="color: #AA22FF; font-weight: bold">in</span> names:
        <span style="color: #008000">print</span>(<span style="color: #BA2121">&#39;Hello &#39;</span> <span style="color: #666666">+</span> name)
</code></pre></div>
<p>This behavior is actually a fundamental aspect of the PEP 484 type system: when we annotate some variable with a type <code>T</code>, we are actually telling mypy that variable can be assigned an instance of <code>T</code>, or an instance of a <em>subtype</em> of <code>T</code>. That is, <code>list[str]</code> is a subtype of <code>Iterable[str]</code>.</p>
<p>This also applies to inheritance, so if you have a class <code>Child</code> that inherits from <code>Parent</code>, then a value of type <code>Child</code> can be assigned to a variable of type <code>Parent</code>. For example, a <code>RuntimeError</code> instance can be passed to a function that is annotated as taking an <code>Exception</code>.</p>
<p>As another example, suppose you want to write a function that can accept <em>either</em> ints or strings, but no other types. You can express this using the <a href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a> type. For example, <code>int</code> is a subtype of <code>Union[int, str]</code>:</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">typing</span> <span style="color: #008000; font-weight: bold">import</span> Union

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">normalize_id</span>(user_id: Union[<span style="color: #008000">int</span>, <span style="color: #008000">str</span>]) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">isinstance</span>(user_id, <span style="color: #008000">int</span>):
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">f&#39;user-</span><span style="color: #A45A77; font-weight: bold">{</span><span style="color: #666666">100_000</span><span style="color: #bbbbbb"> </span><span style="color: #666666">+</span><span style="color: #bbbbbb"> </span>user_id<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&#39;</span>
    <span style="color: #008000; font-weight: bold">else</span>:
        <span style="color: #008000; font-weight: bold">return</span> user_id
</code></pre></div>
<p>The <a href="https://docs.python.org/3/library/typing.html#module-typing">typing</a> module contains many other useful types.</p>
<p>For a quick overview, look through the <a href="cheat_sheet_py3/">mypy cheatsheet</a>.</p>
<p>For a detailed overview (including information on how to make your own generic types or your own type aliases), look through the <strong>type system reference</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When adding types, the convention is to import types using the form <code>from typing import Union</code> (as opposed to doing just <code>import typing</code> or <code>import typing as t</code> or <code>from typing import *</code>).</p>
<p>For brevity, we often omit imports from <a href="https://docs.python.org/3/library/typing.html#module-typing">typing</a> or <a href="https://docs.python.org/3/library/collections.abc.html#module-collections.abc">collections.abc</a> in code examples, but mypy will give an error if you use types such as <a href="https://docs.python.org/3/library/typing.html#typing.Iterable">Iterable</a> without first importing them.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some examples we use capitalized variants of types, such as <code>List</code>, and sometimes we use plain <code>list</code>. They are equivalent, but the prior variant is needed if you are using Python 3.8 or earlier.</p>
</div>
</div>
</div>
</div>
<h2 id="局部类型推断">局部类型推断<a class="headerlink" href="#局部类型推断" title="Permanent link">&para;</a></h2>
<p><strong>Local type inference</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">中文</label><label for="__tabbed_6_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>一旦你为函数添加了类型提示（即使它变成了静态类型），mypy 将自动对该函数的主体进行类型检查。在此过程中，mypy 将尝试推断尽可能多的细节。</p>
<p>我们在上面的 <code>normalize_id</code> 函数中看到了一个例子——mypy 能理解基本的 <a href="https://docs.python.org/3/library/functions.html#isinstance">isinstance</a> 检查，因此可以推断出 <code>user_id</code> 变量在 if 分支中是 <code>int</code> 类型，在 else 分支中是 <code>str</code> 类型。</p>
<p>再举一个例子，考虑以下函数。Mypy 可以毫无问题地对该函数进行类型检查：它将利用可用的上下文推断出 <code>output</code> 必须是 <code>list[float]</code> 类型，并且 <code>num</code> 必须是 <code>float</code> 类型：</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">nums_below</span>(numbers: Iterable[<span style="color: #008000">float</span>], limit: <span style="color: #008000">float</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">list</span>[<span style="color: #008000">float</span>]:
    output <span style="color: #666666">=</span> []
    <span style="color: #008000; font-weight: bold">for</span> num <span style="color: #AA22FF; font-weight: bold">in</span> numbers:
        <span style="color: #008000; font-weight: bold">if</span> num <span style="color: #666666">&lt;</span> limit:
            output<span style="color: #666666">.</span>append(num)
    <span style="color: #008000; font-weight: bold">return</span> output
</code></pre></div>
<p>有关更多详细信息，请参阅 <a href="https://mypy.readthedocs.io/en/stable/type_inference_and_annotations.html#type-inference-and-annotations">类型推断和类型注解</a>。</p>
</div>
<div class="tabbed-block">
<p>Once you have added type hints to a function (i.e. made it statically typed), mypy will automatically type check that function’s body. While doing so, mypy will try and infer as many details as possible.</p>
<p>We saw an example of this in the <code>normalize_id</code> function above – mypy understands basic <a href="https://docs.python.org/3/library/functions.html#isinstance">isinstance</a> checks and so can infer that the <code>user_id</code> variable was of type <code>int</code> in the if-branch and of type <code>str</code> in the else-branch.</p>
<p>As another example, consider the following function. Mypy can type check this function without a problem: it will use the available context and deduce that <code>output</code> must be of type <code>list[float]</code> and that <code>num</code> must be of type <code>float</code>:</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">nums_below</span>(numbers: Iterable[<span style="color: #008000">float</span>], limit: <span style="color: #008000">float</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">list</span>[<span style="color: #008000">float</span>]:
    output <span style="color: #666666">=</span> []
    <span style="color: #008000; font-weight: bold">for</span> num <span style="color: #AA22FF; font-weight: bold">in</span> numbers:
        <span style="color: #008000; font-weight: bold">if</span> num <span style="color: #666666">&lt;</span> limit:
            output<span style="color: #666666">.</span>append(num)
    <span style="color: #008000; font-weight: bold">return</span> output
</code></pre></div>
<p>For more details, see <a href="https://mypy.readthedocs.io/en/stable/type_inference_and_annotations.html#type-inference-and-annotations">Type inference and type annotations</a>.</p>
</div>
</div>
</div>
<h2 id="来自库的类型">来自库的类型<a class="headerlink" href="#来自库的类型" title="Permanent link">&para;</a></h2>
<p><strong>Types from libraries</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">中文</label><label for="__tabbed_7_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Mypy 也可以理解如何处理你所使用的库中的类型。</p>
<p>例如，mypy 内置了对 Python 标准库的深入了解。以下是一个使用 <a href="https://docs.python.org/3/library/pathlib.html">pathlib 标准库模块</a> 中的 Path 对象的函数示例：</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">pathlib</span> <span style="color: #008000; font-weight: bold">import</span> Path

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">load_template</span>(template_path: Path, name: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #3D7B7B; font-style: italic"># Mypy 知道 `template_path` 有一个返回字符串的 `read_text` 方法</span>
    template <span style="color: #666666">=</span> template_path<span style="color: #666666">.</span>read_text()
    <span style="color: #3D7B7B; font-style: italic"># 因此它理解这行代码的类型检查是正确的</span>
    <span style="color: #008000; font-weight: bold">return</span> template<span style="color: #666666">.</span>replace(<span style="color: #BA2121">&#39;USERNAME&#39;</span>, name)
</code></pre></div>
<p>如果你使用的第三方库 <a href="https://mypy.readthedocs.io/en/stable/installed_packages.html#installed-packages">声明支持类型检查</a>，mypy 将根据该库中的类型提示对你使用该库的代码进行类型检查。</p>
<p>然而，如果第三方库没有类型提示，mypy 将会提示缺少类型信息。</p>
<div class="language-text highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>prog.py:1: error: Library stubs not installed for &quot;yaml&quot;
prog.py:1: note: Hint: &quot;python3 -m pip install types-PyYAML&quot;
prog.py:2: error: Library stubs not installed for &quot;requests&quot;
prog.py:2: note: Hint: &quot;python3 -m pip install types-requests&quot;
...
</code></pre></div>
<p>在这种情况下，你可以通过安装存根包来为 mypy 提供另一种类型信息来源。存根包是一个仅包含类型提示但不包含实际代码的包。</p>
<div class="language-bash highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$<span style="color: #bbbbbb"> </span>python3<span style="color: #bbbbbb"> </span>-m<span style="color: #bbbbbb"> </span>pip<span style="color: #bbbbbb"> </span>install<span style="color: #bbbbbb"> </span>types-PyYAML<span style="color: #bbbbbb"> </span>types-requests
</code></pre></div>
<p>分发包的存根包通常命名为 <code>types-&lt;distribution&gt;</code>。注意，分发包的名称可能与导入的包名不同。例如，<code>types-PyYAML</code> 包含 <code>yaml</code> 包的存根。</p>
<p>有关处理缺少类型信息的库错误的策略的更多讨论，请参阅 <a href="https://mypy.readthedocs.io/en/stable/running_mypy.html#fix-missing-imports">缺少导入</a>。</p>
<p>有关存根的更多信息，请参阅 <a href="https://mypy.readthedocs.io/en/stable/stubs.html#stub-files">存根文件</a>。</p>
</div>
<div class="tabbed-block">
<p>Mypy can also understand how to work with types from libraries that you use.</p>
<p>For instance, mypy comes out of the box with an intimate knowledge of the Python standard library. For example, here is a function which uses the Path object from the <a href="https://docs.python.org/3/library/pathlib.html">pathlib standard library module</a>:</p>
<div class="language-python highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">pathlib</span> <span style="color: #008000; font-weight: bold">import</span> Path

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">load_template</span>(template_path: Path, name: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    <span style="color: #3D7B7B; font-style: italic"># Mypy knows that `template_path` has a `read_text` method that returns a str</span>
    template <span style="color: #666666">=</span> template_path<span style="color: #666666">.</span>read_text()
    <span style="color: #3D7B7B; font-style: italic"># ...so it understands this line type checks</span>
    <span style="color: #008000; font-weight: bold">return</span> template<span style="color: #666666">.</span>replace(<span style="color: #BA2121">&#39;USERNAME&#39;</span>, name)
</code></pre></div>
<p>If a third party library you use <a href="https://mypy.readthedocs.io/en/stable/installed_packages.html#installed-packages">declares support for type checking</a>, mypy will type check your use of that library based on the type hints it contains.</p>
<p>However, if the third party library does not have type hints, mypy will complain about missing type information.</p>
<div class="language-text highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>prog.py:1: error: Library stubs not installed for &quot;yaml&quot;
prog.py:1: note: Hint: &quot;python3 -m pip install types-PyYAML&quot;
prog.py:2: error: Library stubs not installed for &quot;requests&quot;
prog.py:2: note: Hint: &quot;python3 -m pip install types-requests&quot;
...
</code></pre></div>
<p>In this case, you can provide mypy a different source of type information, by installing a stub package. A stub package is a package that contains type hints for another library, but no actual code.</p>
<p><code>$ python3 -m pip install types-PyYAML types-requests</code></p>
<p>Stubs packages for a distribution are often named <code>types-&lt;distribution&gt;</code>. Note that a distribution name may be different from the name of the package that you import. For example, <code>types-PyYAML</code> contains stubs for the <code>yaml</code> package.</p>
<p>For more discussion on strategies for handling errors about libraries without type information, refer to <a href="https://mypy.readthedocs.io/en/stable/running_mypy.html#fix-missing-imports">Missing imports</a>.</p>
<p>For more information about stubs, see <a href="https://mypy.readthedocs.io/en/stable/stubs.html#stub-files">Stub files</a>.</p>
</div>
</div>
</div>
<h2 id="下一步">下一步<a class="headerlink" href="#下一步" title="Permanent link">&para;</a></h2>
<p><strong>Next steps</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">中文</label><label for="__tabbed_8_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>如果你时间紧迫，不想在开始之前阅读大量文档，以下是一些快速学习资源的指引：</p>
<ul>
<li>
<p>阅读 <a href="cheat_sheet_py3/">mypy cheatsheet</a>。</p>
</li>
<li>
<p>如果你有一个现有的大型代码库但没有很多类型注解，可以阅读 <a href="https://mypy.readthedocs.io/en/stable/existing_code.html#existing-code">如何在现有代码库中使用 mypy</a>。</p>
</li>
<li>
<p>阅读关于 Zulip 项目采纳 mypy 的 <a href="https://blog.zulip.org/2016/10/13/static-types-in-python-oh-mypy/">博客文章</a>。</p>
</li>
<li>
<p>如果你更喜欢观看讲座而不是阅读，以下是一些建议：</p>
<ul>
<li>
<p>Carl Meyer: <a href="https://www.youtube.com/watch?v=pMgmKJyWKn8">Type Checked Python in the Real World</a> (PyCon 2018)</p>
</li>
<li>
<p>Greg Price: <a href="https://www.youtube.com/watch?v=0c46YHS3RY8">Clearer Code at Scale: Static Types at Zulip and Dropbox</a> (PyCon 2018)</p>
</li>
</ul>
</li>
<li>
<p>如果你遇到问题，可以查看 <a href="https://mypy.readthedocs.io/en/stable/common_issues.html#common-issues">mypy 的常见问题解决方案</a>。</p>
</li>
<li>
<p>你可以在 <a href="https://github.com/python/mypy/issues">mypy 问题跟踪器</a> 和 typing 的 <a href="https://gitter.im/python/typing">Gitter 聊天</a> 中提出有关 mypy 的问题。</p>
</li>
<li>
<p>对于有关 Python 类型的一般问题，可以尝试在 <a href="https://github.com/python/typing/discussions">typing discussions</a> 中发帖。</p>
</li>
</ul>
<p>你也可以继续阅读本文档，并跳过那些与你无关的部分。你不需要按顺序阅读各个章节。</p>
</div>
<div class="tabbed-block">
<p>If you are in a hurry and don’t want to read lots of documentation before getting started, here are some pointers to quick learning resources:</p>
<ul>
<li>
<p>Read the <a href="cheat_sheet_py3/">mypy cheatsheet</a>.</p>
</li>
<li>
<p>Read <a href="https://mypy.readthedocs.io/en/stable/existing_code.html#existing-code">Using mypy with an existing codebase</a> if you have a significant existing codebase without many type annotations.</p>
</li>
<li>
<p>Read the <a href="https://blog.zulip.org/2016/10/13/static-types-in-python-oh-mypy/">blog post</a> about the Zulip project’s experiences with adopting mypy.</p>
</li>
<li>
<p>If you prefer watching talks instead of reading, here are some ideas:</p>
<ul>
<li>
<p>Carl Meyer: <a href="https://www.youtube.com/watch?v=pMgmKJyWKn8">Type Checked Python in the Real World</a> (PyCon 2018)</p>
</li>
<li>
<p>Greg Price: <a href="https://www.youtube.com/watch?v=0c46YHS3RY8">Clearer Code at Scale: Static Types at Zulip and Dropbox</a> (PyCon 2018)</p>
</li>
</ul>
</li>
<li>
<p>Look at <a href="https://mypy.readthedocs.io/en/stable/common_issues.html#common-issues">solutions to common issues</a> with mypy if you encounter problems.</p>
</li>
<li>
<p>You can ask questions about mypy in the <a href="https://github.com/python/mypy/issues">mypy issue tracker</a> and typing <a href="https://gitter.im/python/typing">Gitter chat</a>.</p>
</li>
<li>
<p>For general questions about Python typing, try posting at <a href="https://github.com/python/typing/discussions">typing discussions</a>.</p>
</li>
</ul>
<p>You can also continue reading this document and skip sections that aren’t relevant for you. You don’t need to read sections in order.</p>
</div>
</div>
</div>

  <hr>
<div class="md-source-file">
  <small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年9月13日</span>
      
        <br>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2024年9月4日</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["header.autohide", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.path", "content.tabs.link", "content.code.copy", "content.tooltips", "navigation.indexes", "navigation.prune", "navigation.instant"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.94c44541.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>